<script type="text/javascript">
//2. Given a number say 12345, find the immediate next number using the same digits, in this case 12354.

function getNextMaxNumber(number){
	//1- desc sort after converting to array
	let numberParts=number.toString().split('')
	console.log(number)
	//2- ensure that the number is not the biggest number in this digit set
	let biggestNumberParts=numberParts.sort(function(a,b){return b-a})
	let biggestNumber=biggestNumberParts.join('')
	// console.log('biggestNumber',biggestNumber)
	if (biggestNumber==number) { return biggestNumber};
	//3 compare each 2 digits
	let returnNumberParts=number.toString().split('')
	numberParts=number.toString()
	let rotateAt=-1
	let rotateWith=-1
	for (var i = numberParts.length - 1; i >= 0; i--) {
		//2- get the number to rotate from,ex 45 be 54 
		if(numberParts[i] > numberParts[i-1]){
			rotateAt=i-1
			rotateWith=i
			//3- get the smallest number after the number will be swaped
			for (var j = i; j < numberParts.length; j++) {
				if(numberParts[j] < numberParts[rotateWith]){
					rotateWith=j
				}
			};
			// console.log('rotate here',numberParts[rotateAt],numberParts[rotateWith])
			returnNumberParts[rotateAt]=numberParts[rotateWith]
			returnNumberParts[rotateWith]=numberParts[rotateAt]
			break;
		}
	};
	// console.log('returnNumberParts',returnNumberParts.join(""))
	return returnNumberParts.join("");
}
let result=getNextMaxNumber(12345)
console.log(result)
result=getNextMaxNumber(218765)
console.log(result)
</script>